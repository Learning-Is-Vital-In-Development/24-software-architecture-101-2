# CHAPTER 11

# Overview

파이프라인 아키텍처는 개발자와 아키텍트가 기능을 개별 파트로 분리하기로 결정하는 순간부터 이 패턴이 수반된다.

파이프라인 아키텍처 스타일은 저수준에서 구현할 수 도 있고 고수준의 비즈니스 애플리케이션에도 적용할 수 있다.

## 토폴로지

파이프라인 아키텍처는 다수의 파이프와 필터로 구성된다. 파이프와 필터는 특정한 방식으로 조정되며, 보통 필터 간 단방향 통신은 점대점 방식으로 구성한다.

## 파이프

파이프는 한 소스에서 입력을 받아 다른 소스로 출력을 내는, 필터 간 통신 채널이다. 파이프는 성능상 이유로 보통 단방향, 점대점 방식으로 구성한다. 파이프를 오가는 `payload` 의 데이터는 어떤 포맷이라도 가능하다.

## 필터

필터는 자기 완비형이고, 다른 필터와 독립적이며, 일반적으로 무상태성이다. 필터는 한 가지 태스크만 수행하므로 복합 태스크는 여러 필터를 이어 붙여 처리하면 된다.

- 프로듀서 : 프로세스의 시작점, 아웃바운드만 있어서 소스 라고도 한다.
- 변환기 : 입력을 받아 필요시 일부 또는 전체 데이터를 변환 후 그 결과를 아웃바운드 파이프로 전달함.
- 테스터 : 입력을 받아 하나 이상의 기준에 대해 테스트를 하고 결과에 따라 필요시 결과를 생성
- 컨슈머 : 파이프라인 흐름의 종착역, 프로세스의 최종 결과를 데이터베이스에 저장하거나 화면에 표시함.

각 파이프와 필터는 단방향이며 워낙 단순해서 얼마든지 조합할 수 있다.

## 예제

파이프라인 아키텍처 패턴은 다양한 애플리케이션 특히 간단한 단방향 처리 태스크에서 흔히 찾아볼 수 있다. 예를 들어, `EDI(전자 데이터 교환)` , `ETL` 등이 있다.

## 아키텍처 특성 등급

파이프라인 아키텍처 스타일은 애플리케이션 로직을 필터 타입에 따라 나누는, 기술 분할 아키텍처 이다. 또 파이프라인 아키텍처는 보통 모놀리식 형태로 구현/배포하므로 아키텍처 퀀텀은 언제나 1이다.

이 아키틱처는 원래 모놀리식에 가깝기 때문에 분산 아키텍처 스타일에 수반되는 복잡도가 없고, 단순해서 알기 쉽고 구축 및 유지보수 비용도 비교적 적게 든다. 다양한 필터 타입과 변환기 간의 관심사를 분리함으로써 아키텍처 모듈성을 확보할 수 있고 필터에 대한 교체, 수정또한 다른 필터에 아무런 영향도 미치지 않는다.
