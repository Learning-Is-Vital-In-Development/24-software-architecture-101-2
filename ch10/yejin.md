# ch 10. 레이어드 아키텍처 스타일

---

## 10.1 토폴로지
레이어드 아키텍처에서 내부 컴포넌트는 논리적으로 수평한 레이어들로 구성된다.
일반적으로 프레젠테이션, 비즈니스, 퍼시스턴스, 데이터베이스 레이어로 구성한다.
- 데이터베이스 레이어 : 서비스 규모에 따라 인메모리로 또는 별도로 분리할 수 있다.
- 프레젠테이션 레이어 : 유저 인터페이스와 브라우저 통신 로직을 담당
- 비즈니스 레이어 : 요청에 따른 비즈니스 수행
- 퍼시스턴스 레이어 : 데이터베이스와 통신하여 데이터 처리를 담당

레이어드 아키텍처는 기술 역할 단위로 분할된 아키텍처이다. 
기술로 묶기 때문에 비즈니스 도메인이 모든 아키텍처 레이어에 분산된다.

## 10.2 레이어 격리
각 레이어는 폐쇄 또는 개방 상태이다.
- 폐쇄 레이어 : 현재 레이어를 거쳐야만 다음 레이어로 접근할 수 있는 레이어.
- 개방 레이어 : 현재 레이어를 거치지 않고도 다음 레이어로 접근할 수 있는 레이어.

폐쇄 레이어와 개방 레이어 어느쪽이 더 나을까?
레이어 격리를 지원하기 위해서는 레이어가 반드시 폐쇄되어 있어야 한다.
- 레이어 격리 : 각 레이어 들이 독립적으로 동작하여 어느 아키텍처 레이어에서 변경이 일어나도 다른 레이어에 영향을 끼치지 않는 방식
레이어를 개방하면 커플링이 되어 변경이 어렵다.

## 10.4 기타 고려 사항
아키텍처 싱크홀 안티패턴을 조심하자.
- 아키텍처 싱크홀 : 요청이 한 레이이에서 다른 레이어로 이동할 때 각 레이어가 아무 비즈니스 로직도 처리하지 않고 그냥 통과시키는 안티패턴
물론 싱크홀 안티패턴이 전무한 아키텍처는 없을테지만 그 비율을 잘 살펴보고 적합한 아키텍처를 적용한게 맞을지 검토해보자.

## 왜 이 아키텍처 스타일을 사용하는가
적은 비용과 단순성으로 소규모 애플리케이션을 간편하게 개발할 수 있다.
규모가 커질 수록 민첩성 유지보수성 특성이 점점 나빠진다.





